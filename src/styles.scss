@use 'styles/tokens';
/* Tailwind directives must follow @use rules */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* AG Grid theme (plain CSS -> keep @import to avoid @use ordering constraint) */
@import 'ag-grid-community/styles/ag-grid.css';
@import 'ag-grid-community/styles/ag-theme-quartz.css';

/* Design tokens / custom vars placeholder */
:root {
    --ds-spacing-unit: 4px;
}

body {
    font-family: system-ui, sans-serif;
    background: var(--ds-bg-base);
    color: var(--ds-color-text-primary);
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
}

/* Theme transition (applies when body has ds-theme-transitioning class) */
body.ds-theme-transitioning {
    transition: background-color 300ms var(--ds-easing-standard, cubic-bezier(.4, 0, .2, 1)),
        color 300ms var(--ds-easing-standard, cubic-bezier(.4, 0, .2, 1));
}

/* Smoothly transition common surfaces */
body.ds-theme-transitioning :where(.ds-surface, ds-nav-tree, header, main, footer) {
    transition: background-color 300ms var(--ds-easing-standard, cubic-bezier(.4, 0, .2, 1)),
        color 300ms var(--ds-easing-standard, cubic-bezier(.4, 0, .2, 1)),
        border-color 300ms var(--ds-easing-standard, cubic-bezier(.4, 0, .2, 1));
}

@media (prefers-reduced-motion: reduce) {

    body.ds-theme-transitioning,
    body.ds-theme-transitioning :where(.ds-surface, ds-nav-tree, header, main, footer) {
        transition: none !important;
    }
}

/* Web Awesome reset / neutralization layer.
     Goal: Strip opinionated vendor styling so Tailwind utility classes & our tokens control look. */
@layer base {
    :where(wa-input, wa-select, wa-button, wa-textarea, wa-switch, wa-radio, wa-progress-ring, wa-drawer, wa-tab-group, wa-tab, wa-tree, wa-details) {
        font: inherit;
        color: inherit;
        background: transparent;
        border: none;
        box-sizing: border-box;
    }

    :where(wa-input, wa-select, wa-textarea) {
        width: 100%;
    }
}

/* Themed CSS variable usage examples (optional utility classes) */
@layer components {
    .ds-surface {
        background: var(--ds-bg-elevated);
        color: var(--ds-color-text-primary);
        border: 1px solid var(--ds-border-subtle);
        border-radius: var(--ds-radius-md);
        box-shadow: var(--ds-shadow-sm);
    }

    .ds-focus-ring:focus-visible {
        outline: 2px solid var(--ds-border-focus);
        outline-offset: 2px;
    }
}
